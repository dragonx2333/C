### 返回栈空间地址问题：

当函数返回栈上局部变量的地址时，会出现潜在的问题。因为一旦函数执行结束，栈上的局部变量就会被销毁，此时返回的地址指向的内存区域已经不再有效。如果调用者尝试访问这个地址，可能会导致未定义的行为，如程序崩溃或数据损坏。

示例：

~~~c
#include <stdio.h>

int* test() 
{
    int a = 10; 
    return &a;
}

int main() 
{
    int* p = test(); 
    printf("%d\n", *p); 
    return 0;
}
~~~

解决方法：

1. 使用静态变量：

   ~~~c
   int* test()
   {
       static int a = 10; 
       return &a;
   }    
   ~~~

2. 使用动态内存分配：在堆上分配内存，并返回分配的内存地址。这种方法需要调用者负责在适当的时候释放内存，以避免内存泄漏。

   ~~~c
   int* test()
   {
       int* p = (int*)malloc(100);
       return p;
   }  
   ~~~

